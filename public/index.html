<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thomas Archive | Watch & Explore</title>
    <meta name="description" content="Complete collection of Thomas the Tank Engine episodes, specials, and fan-made content." />
    
    <!-- CSS -->
    <link rel="stylesheet" href="/style.css" />
    <link rel="icon" href="https://i.ibb.co/SDBYYshc/image-2025-07-09-212116843.png" type="image/png" />

    <!-- Core Setup -->
    <script>
        const pathMatch = window.location.pathname.match(/^\/([a-z]{2}-[a-z]{2})(\/|$)/i);
        window.LANG_CODE = pathMatch ? pathMatch[1].toLowerCase() : "en-gb";
    </script>
</head>

<body>
    <!-- Terms Modal -->
    <div id="terms-modal" class="modal" role="dialog" aria-modal="true" style="display:none; z-index:9999;">
        <div class="modal-content" style="max-width:500px; height:auto; padding:2rem; background:white; text-align:center; color:#333;">
            <h2 style="color:#005eb8;">Welcome Aboard</h2>
            <p style="margin:1rem 0;">Before entering, you must agree to our <a href="/terms-of-use.html" style="color:#005eb8;">Terms of Use</a>.</p>
            <button id="accept-terms" class="btn-primary">I Accept</button>
        </div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">
            <span class="icon">üöÇ</span> Thomas Archive
        </div>
        <div class="nav-actions">
            <button id="tv-mode-btn" class="nav-btn" aria-label="Toggle TV Mode">
                üì∫ <span class="btn-text">TV Mode</span>
            </button>
            <a href="https://discord.gg/" target="_blank" class="nav-btn discord-btn">
                Join Discord
            </a>
        </div>
    </nav>

    <!-- Featured Hero Section -->
    <header class="hero-section">
        <div class="hero-bg"></div>
        <div class="hero-content">
            <span class="hero-tag">Featured Special</span>
            <h1>The Adventure Begins</h1>
            <p>Relive the magic of the very first stories. Thomas creates a splash on Sodor in this retelling of the classic origins.</p>
            <div class="hero-buttons">
                <!-- Using a known working video ID for the featured button -->
                <button class="btn-play" onclick="openVideo('https://www.youtube.com/embed/dQw4w9WgXcQ')">‚ñ∂ Play Now</button>
                <button class="btn-info" onclick="document.getElementById('dvd-collection').scrollIntoView({behavior: 'smooth'})">Browse DVDs</button>
            </div>
        </div>
    </header>

    <main>
        <!-- Episodes Section -->
        <section id="episodes" class="content-row">
            <div class="row-header">
                <h2>Episodes</h2>
                <div class="search-wrapper">
                    <input type="text" id="episode-search" placeholder="Find an episode..." aria-label="Search episodes">
                </div>
            </div>
            
            <!-- Series Tabs injected by JS -->
            <div class="series-selector-wrapper">
                <!-- JS injects .series-selector here -->
            </div>

            <!-- Episodes List injected by JS -->
            <div id="episode-list" class="horizontal-scroller"></div>
        </section>

        <!-- DVD Collection -->
        <section id="dvd-collection" class="content-row">
            <div class="row-header">
                <h2>DVD Collection</h2>
            </div>
            <div class="dvd-grid"></div>
        </section>

        <!-- Games -->
        <section id="games" class="content-row">
            <div class="row-header">
                <h2>Interactive & Games</h2>
            </div>
            <div class="game-grid">
                <div class="game-item">
                    <a href="/games/design-your-engine.html">
                        <img src="https://i.ibb.co/RVTz5bL/Game-Promo-Sm-Design-Your-Train.jpg" alt="Design Your Engine" />
                        <div class="card-overlay">
                            <strong>Design Your Engine</strong>
                            <span>Create your own steam friend</span>
                        </div>
                    </a>
                </div>
            </div>
        </section>

        <!-- Credits -->
        <section id="credits" class="content-row">
            <div class="row-header">
                <h2>Community Credits</h2>
            </div>
            <div class="credits-grid">
                <div class="credit-item">
                    <img src="https://i.ibb.co/1f92j2FV/8c353d9155de9a11d9d86f7e6ad831e9.webp" alt="foxStorm1" loading="lazy">
                    <span>foxStorm1</span>
                </div>
                <div class="credit-item">
                    <img src="https://i.ibb.co/zhXz8w1X/10f4845240de63414acf4b856b7a68b7.webp" alt="koreandub" loading="lazy">
                    <span>koreandub</span>
                </div>
                 <div class="credit-item">
                    <img src="https://i.ibb.co/jvsd53Kc/0af0796b865c1f13d7ca3c587034fb0c.webp" alt="talez_chip" loading="lazy">
                    <span>talez_chip</span>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>
                &copy; 2025 Thomas Archive. Fan-made and unaffiliated.<br />
                <a href="/terms-of-use.html">Terms of Use</a>
            </p>
        </div>
    </footer>

    <!-- Universal Video Modal -->
    <div id="video-modal" class="modal hidden">
        <div class="modal-content">
            <button id="modal-close" aria-label="Close video modal">&times;</button>
            <div id="title-shield"></div>
            <div id="queue-status"></div>
            <iframe id="modal-video" title="Video player" allow="autoplay; fullscreen" allowfullscreen></iframe>
            <div id="modal-controls">
                <button id="btn-prev" class="queue-btn">‚èÆ Prev</button>
                <button id="btn-next" class="queue-btn">Next ‚è≠</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/scripts/geoRedirect.js"></script>
    <script src="/scripts/discordWidget.js" defer></script>
    <script src="/scripts/episodes.js" defer></script>
    <script src="/scripts/dvdPlayer.js" defer></script>
    <script src="/scripts/funnySounds.js" defer></script>
    <script src="/scripts/tvMode.js" defer></script> <!-- New TV Logic -->
    <script src="/scripts/main.js" defer></script>
</body>
</html>
