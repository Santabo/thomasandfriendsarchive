<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thomas Archive | Watch & Explore</title>
    <meta name="description" content="Complete collection of Thomas the Tank Engine episodes, specials, and fan-made content." />
    
    <!-- CSS -->
    <link rel="stylesheet" href="/style.css" />
    <link rel="icon" href="https://i.ibb.co/SDBYYshc/image-2025-07-09-212116843.png" type="image/png" />

    <!-- Core Setup -->
    <script>
        const pathMatch = window.location.pathname.match(/^\/([a-z]{2}-[a-z]{2})(\/|$)/i);
        window.LANG_CODE = pathMatch ? pathMatch[1].toLowerCase() : "en-gb";
    </script>
</head>

<body>
    <!-- Terms Modal -->
    <div id="terms-modal" class="modal" role="dialog" aria-modal="true" style="display:none; z-index:9999;">
        <div class="modal-content" style="max-width:500px; height:auto; padding:2rem; background:white; text-align:center;">
            <h2 style="color:#005eb8;">Welcome Aboard! üöÇ</h2>
            <p style="color:#333; margin:1rem 0;">Before entering, you must agree to our <a href="/terms-of-use.html" style="color:#005eb8;">Terms of Use</a>.</p>
            <button id="accept-terms" class="queue-btn">I Accept</button>
        </div>
    </div>

    <header>
        <div class="container fade-in-up">
            <h1>Thomas Archive</h1>
            <p>A comprehensive collection of episodes, specials, and fan creations</p>
            
            <section id="join-discord">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div id="discord-avatars"></div>
                    <span id="discord-stats" style="font-size: 0.9rem; font-weight: bold;">Loading...</span>
                </div>
                <div style="display: flex; gap: 10px;">
                    <a id="discord-invite" href="https://discord.gg/" target="_blank">üöÇ Join Discord</a>
                </div>
            </section>
        </div>
    </header>

    <main>
        <!-- Episodes Section -->
        <section id="episodes" class="fade-in-up" style="animation-delay: 0.1s;">
            <h2 id="episodes-heading">Episodes</h2>
            <div id="episode-list"></div>
        </section>

        <!-- DVD Collection -->
        <section id="dvd-collection" class="fade-in-up" style="animation-delay: 0.2s;">
            <h2>DVD Collection</h2>
            <p style="margin-bottom: 2rem; color: #666;">Select a DVD case to play the full disc queue.</p>
            <div class="dvd-grid"></div>
        </section>

        <!-- Games -->
        <section id="games" class="fade-in-up" style="animation-delay: 0.3s;">
            <h2>Games</h2>
            <div class="game-grid">
                <div class="game-item">
                    <!-- Fixed: Direct link to the game file -->
                    <a href="/games/design-your-engine.html">
                        <img src="https://i.ibb.co/RVTz5bL/Game-Promo-Sm-Design-Your-Train.jpg" alt="Design Your Engine" />
                        <strong>Design Your Engine</strong>
                    </a>
                </div>
            </div>
        </section>

        <!-- Credits -->
        <section id="credits" class="fade-in-up" style="animation-delay: 0.4s;">
            <h2>Special Thanks</h2>
            <div class="credits-grid">
                <!-- Note: To update images, replace the src URLs below with the new links -->
                <div class="credit-item">
                    <img src="https://i.ibb.co/1f92j2FV/8c353d9155de9a11d9d86f7e6ad831e9.webp" alt="foxStorm1" loading="lazy">
                    <strong>foxStorm1</strong>
                </div>
                <div class="credit-item">
                    <img src="https://i.ibb.co/zhXz8w1X/10f4845240de63414acf4b856b7a68b7.webp" alt="koreandub" loading="lazy">
                    <strong>koreandub</strong>
                </div>
                 <div class="credit-item">
                    <img src="https://i.ibb.co/jvsd53Kc/0af0796b865c1f13d7ca3c587034fb0c.webp" alt="talez_chip" loading="lazy">
                    <strong>talez_chip</strong>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>
                &copy; 2025 Thomas Archive. Fan-made and unaffiliated.<br />
                <a href="/terms-of-use.html">Terms of Use</a>
            </p>
        </div>
    </footer>

    <!-- Universal Video Modal -->
    <div id="video-modal" class="modal hidden">
        <div class="modal-content">
            <button id="modal-close" aria-label="Close video modal">&times;</button>
            <div id="title-shield"></div>
            <div id="queue-status"></div>
            <iframe id="modal-video" title="Video player" allow="autoplay; fullscreen" allowfullscreen></iframe>
            <div id="modal-controls">
                <button id="btn-prev" class="queue-btn">‚èÆ Prev</button>
                <button id="btn-next" class="queue-btn">Next ‚è≠</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/scripts/geoRedirect.js"></script>
    <script src="/scripts/discordWidget.js" defer></script>
    <script src="/scripts/episodes.js" defer></script>
    <script src="/scripts/dvdPlayer.js" defer></script>
    <script src="/scripts/funnySounds.js" defer></script>
    <script src="/scripts/main.js" defer></script>
</body>
</html>
